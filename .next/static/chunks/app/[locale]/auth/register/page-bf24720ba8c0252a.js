(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{9622:function(e,a,t){Promise.resolve().then(t.bind(t,2379)),Promise.resolve().then(t.bind(t,865)),Promise.resolve().then(t.bind(t,9512)),Promise.resolve().then(t.t.bind(t,231,23))},2379:function(e,a,t){"use strict";t.d(a,{default:function(){return o}});var r=t(7437),n=t(2265),l=t(6463),s=t(998);function o(e){let{locale:a}=e,[t,o]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[h,m]=(0,n.useState)(!1),[b,p]=(0,n.useState)(null),g=(0,l.useRouter)(),x={name:{en:"Full name",fa:"نام و نام خانوادگی"},email:{en:"Email",fa:"ایمیل"},pass:{en:"Password",fa:"رمز عبور"},cta:{en:"Create account",fa:"ایجاد حساب"},creating:{en:"Creating…",fa:"در حال ایجاد…"}};async function f(e){e.preventDefault(),p(null),m(!0);try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:i,password:c})}),r=await e.json().catch(()=>({}));if(!e.ok||!(null==r?void 0:r.ok))throw Error((null==r?void 0:r.error)||"Server error");let n=await (0,s.signIn)("credentials",{email:i,password:c,redirect:!1,callbackUrl:"/".concat(a)});null==n||n.ok,g.push("/".concat(a))}catch(e){p((null==e?void 0:e.message)||("fa"===a?"خطای سرور":"Server error"))}finally{m(!1)}}return(0,r.jsxs)("form",{onSubmit:f,className:"space-y-5",noValidate:!0,children:[b?(0,r.jsx)("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:b}):null,(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:x.name[a]}),(0,r.jsx)("input",{name:"name",autoComplete:"name",value:t,onChange:e=>o(e.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 dark:bg-black/20 px-4 h-11 outline-none placeholder:text-foreground/40",placeholder:x.name[a]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:x.email[a]}),(0,r.jsx)("input",{type:"email",name:"email",autoComplete:"email",value:i,onChange:e=>d(e.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 dark:bg-black/20 px-4 h-11 outline-none placeholder:text-foreground/40",placeholder:"you@example.com",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:x.pass[a]}),(0,r.jsx)("input",{type:"password",name:"password",autoComplete:"new-password",value:c,onChange:e=>u(e.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 dark:bg-black/20 px-4 h-11 outline-none placeholder:text-foreground/40",placeholder:"••••••••",required:!0})]}),(0,r.jsxs)("button",{type:"submit",disabled:h,className:"relative w-full h-11 rounded-xl text-white font-medium ring-1 ring-white/10 overflow-hidden backdrop-blur-md   shadow-[0_0_18px_rgba(56,189,248,.35)] transition   hover:brightness-110 active:brightness-95 disabled:opacity-60",children:[(0,r.jsx)("span",{className:"pointer-events-none absolute inset-0 opacity-90   bg-[radial-gradient(80%_120%_at_20%_0%,#4f46e5,transparent_40%),radial-gradient(80%_120%_at_80%_100%,#06b6d4,transparent_40%),linear-gradient(90deg,#7c3aed_0%,#2563eb_100%)]"}),(0,r.jsx)("span",{className:"relative",children:h?x.creating[a]:x.cta[a]})]})]})}}},function(e){e.O(0,[231,849,865,971,23,744],function(){return e(e.s=9622)}),_N_E=e.O()}]);